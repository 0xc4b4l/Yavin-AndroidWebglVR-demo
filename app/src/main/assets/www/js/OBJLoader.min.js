THREE.OBJLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.OBJLoader.prototype={constructor:THREE.OBJLoader,load:function(e,t,r,i){var n=this,o=new THREE.XHRLoader(n.manager);o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){t(n.parse(e))},r,i)},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){function t(e){var t=parseInt(e);return 3*(t>=0?t-1:t+f.length/3)}function r(e){var t=parseInt(e);return 3*(t>=0?t-1:t+E.length/3)}function i(e){var t=parseInt(e);return 2*(t>=0?t-1:t+d.length/2)}function n(e,t,r){l.vertices.push(f[e],f[e+1],f[e+2],f[t],f[t+1],f[t+2],f[r],f[r+1],f[r+2])}function o(e,t,r){l.normals.push(E[e],E[e+1],E[e+2],E[t],E[t+1],E[t+2],E[r],E[r+1],E[r+2])}function a(e,t,r){l.uvs.push(d[e],d[e+1],d[t],d[t+1],d[r],d[r+1])}function s(e,s,h,l,c,u,f,E,d,p,m,g){var T,v=t(e),y=t(s),R=t(h);void 0===l?n(v,y,R):(T=t(l),n(v,y,T),n(y,R,T)),void 0!==c&&(v=i(c),y=i(u),R=i(f),void 0===l?a(v,y,R):(T=i(E),a(v,y,T),a(y,R,T))),void 0!==d&&(v=r(d),y=r(p),R=r(m),void 0===l?o(v,y,R):(T=r(g),o(v,y,T),o(y,R,T)))}console.time("OBJLoader");var h,l,c,u=[];/^o /gm.test(e)===!1&&(l={vertices:[],normals:[],uvs:[]},c={name:""},h={name:"",geometry:l,material:c},u.push(h));for(var f=[],E=[],d=[],p=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,m=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,g=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,T=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,v=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,y=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,R=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/,x=e.split("\n"),H=0;H<x.length;H++){var b=x[H];b=b.trim();var w;0!==b.length&&"#"!==b.charAt(0)&&(null!==(w=p.exec(b))?f.push(parseFloat(w[1]),parseFloat(w[2]),parseFloat(w[3])):null!==(w=m.exec(b))?E.push(parseFloat(w[1]),parseFloat(w[2]),parseFloat(w[3])):null!==(w=g.exec(b))?d.push(parseFloat(w[1]),parseFloat(w[2])):null!==(w=T.exec(b))?s(w[1],w[2],w[3],w[4]):null!==(w=v.exec(b))?s(w[2],w[5],w[8],w[11],w[3],w[6],w[9],w[12]):null!==(w=y.exec(b))?s(w[2],w[6],w[10],w[14],w[3],w[7],w[11],w[15],w[4],w[8],w[12],w[16]):null!==(w=R.exec(b))?s(w[2],w[5],w[8],w[11],void 0,void 0,void 0,void 0,w[3],w[6],w[9],w[12]):/^o /.test(b)?(l={vertices:[],normals:[],uvs:[]},c={name:""},h={name:b.substring(2).trim(),geometry:l,material:c},u.push(h)):/^g /.test(b)||(/^usemtl /.test(b)?c.name=b.substring(7).trim():/^mtllib /.test(b)||/^s /.test(b)))}for(var _=new THREE.Object3D,H=0,M=u.length;M>H;H++){h=u[H],l=h.geometry;var S=new THREE.BufferGeometry;S.addAttribute("position",new THREE.BufferAttribute(new Float32Array(l.vertices),3)),l.normals.length>0&&S.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(l.normals),3)),l.uvs.length>0&&S.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(l.uvs),2)),c=new THREE.MeshLambertMaterial,c.name=h.material.name;var C=new THREE.Mesh(S,c);C.name=h.name,_.add(C)}return console.timeEnd("OBJLoader"),_}};